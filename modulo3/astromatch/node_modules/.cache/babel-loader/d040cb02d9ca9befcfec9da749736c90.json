{"ast":null,"code":"import _slicedToArray from\"C:/Users/gabri/OneDrive/Documentos/labenu/lamarr-Gabriel-Machado/modulo3/astromatch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{MainCard,ProfileDiv,ProfileImg,FooterCard}from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Home=function Home(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];useEffect(function(){getProfileToChoose();},[]);var url=\"https://us-central1-missao-newton.cloudfunctions.net/astroMatch/gabriel-machado\";var headers={\"Content-Type\":\"application/json\"};// Retorna um perfil que ainda não foi visto\nvar getProfileToChoose=function getProfileToChoose(){axios.get(url+'/person').then(function(response){setProfile(response.data.profile);}).catch(function(){alert(\"Erro ao buscar perfil\");});};//Recebe um id e uma escolha (choice). A escolha é a opção do usuário no momento do swipe. Deve ser true ou false.\nvar chooseProfile=function chooseProfile(choice){var body={id:profile.id,choice:choice};axios.post(url+'/choose-person',body,headers).then(function(res){if(res.data.isMatch===true){alert(\"Vocês são compatíveis!\");getProfileToChoose();}getProfileToChoose();}).catch(function(){alert(\"Erro ao escolher perfil\");});};return/*#__PURE__*/_jsxs(MainCard,{children:[/*#__PURE__*/_jsxs(ProfileDiv,{children:[/*#__PURE__*/_jsx(ProfileImg,{src:profile.photo}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[profile.name,\", \",profile.age]}),/*#__PURE__*/_jsx(\"p\",{children:profile.bio})]})]}),/*#__PURE__*/_jsxs(FooterCard,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtgdROg0b0Y5jZkOSOjEnZK1_VyZ9QEUQ03Vi5AP5IHeFqvSf5Qn9TKtogOGF2VRrVb9U&usqp=CAU\",alt:\"deslike\",onClick:function onClick(){return chooseProfile(false);}}),/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/512/7950/7950400.png\",alt:\"like\",onClick:function onClick(){return chooseProfile(true);}})]})]});};","map":{"version":3,"names":["React","useState","useEffect","axios","MainCard","ProfileDiv","ProfileImg","FooterCard","Home","profile","setProfile","getProfileToChoose","url","headers","get","then","response","data","catch","alert","chooseProfile","choice","body","id","post","res","isMatch","photo","name","age","bio"],"sources":["C:/Users/gabri/OneDrive/Documentos/labenu/lamarr-Gabriel-Machado/modulo3/astromatch/src/components/Home/Home.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { MainCard, ProfileDiv, ProfileImg, FooterCard } from \"./styles\";\r\n\r\nexport const Home = () => {\r\n  const [profile, setProfile] = useState({});\r\n\r\n  useEffect(() => {\r\n    getProfileToChoose();\r\n  }, []);\r\n\r\n  const url = \"https://us-central1-missao-newton.cloudfunctions.net/astroMatch/gabriel-machado\";\r\n\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n\r\n  // Retorna um perfil que ainda não foi visto\r\n  const getProfileToChoose = () => {\r\n    axios\r\n      .get(url + '/person')\r\n      .then((response) => {\r\n        setProfile(response.data.profile);\r\n      })\r\n      .catch(() => {\r\n        alert(\"Erro ao buscar perfil\");\r\n      });\r\n  };\r\n  //Recebe um id e uma escolha (choice). A escolha é a opção do usuário no momento do swipe. Deve ser true ou false.\r\n  const chooseProfile = (choice) => {\r\n    const body = {\r\n      id: profile.id,\r\n      choice: choice,\r\n    };\r\n    axios\r\n      .post(url + '/choose-person', body, headers)\r\n      .then((res) => {\r\n        if (res.data.isMatch === true) {\r\n          alert(\"Vocês são compatíveis!\");\r\n          getProfileToChoose();\r\n        }\r\n        getProfileToChoose();\r\n      })\r\n      .catch(() => {\r\n        alert(\"Erro ao escolher perfil\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <MainCard>\r\n      <ProfileDiv>\r\n        <ProfileImg src={profile.photo} />\r\n        <div>\r\n          <h1>\r\n            {profile.name}, {profile.age}\r\n          </h1>\r\n          <p>{profile.bio}</p>\r\n        </div>\r\n      </ProfileDiv>\r\n      <FooterCard>\r\n        <img\r\n          src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtgdROg0b0Y5jZkOSOjEnZK1_VyZ9QEUQ03Vi5AP5IHeFqvSf5Qn9TKtogOGF2VRrVb9U&usqp=CAU\"\r\n          alt=\"deslike\"\r\n          onClick={() => chooseProfile(false)}\r\n        />\r\n        <img\r\n          src=\"https://cdn-icons-png.flaticon.com/512/7950/7950400.png\"\r\n          alt=\"like\"\r\n          onClick={() => chooseProfile(true)}\r\n        />\r\n      </FooterCard>\r\n    </MainCard>\r\n  );\r\n};\r\n"],"mappings":"yKAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,UAAnB,CAA+BC,UAA/B,CAA2CC,UAA3C,KAA6D,UAA7D,C,wFAEA,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACxB,cAA8BP,QAAQ,CAAC,EAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eAEAR,SAAS,CAAC,UAAM,CACdS,kBAAkB,GACnB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,IAAG,CAAG,iFAAZ,CAEA,GAAMC,QAAO,CAAG,CACd,eAAgB,kBADF,CAAhB,CAIA;AACA,GAAMF,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAC/BR,KAAK,CACFW,GADH,CACOF,GAAG,CAAG,SADb,EAEGG,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBN,UAAU,CAACM,QAAQ,CAACC,IAAT,CAAcR,OAAf,CAAV,CACD,CAJH,EAKGS,KALH,CAKS,UAAM,CACXC,KAAK,CAAC,uBAAD,CAAL,CACD,CAPH,EAQD,CATD,CAUA;AACA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,MAAD,CAAY,CAChC,GAAMC,KAAI,CAAG,CACXC,EAAE,CAAEd,OAAO,CAACc,EADD,CAEXF,MAAM,CAAEA,MAFG,CAAb,CAIAlB,KAAK,CACFqB,IADH,CACQZ,GAAG,CAAG,gBADd,CACgCU,IADhC,CACsCT,OADtC,EAEGE,IAFH,CAEQ,SAACU,GAAD,CAAS,CACb,GAAIA,GAAG,CAACR,IAAJ,CAASS,OAAT,GAAqB,IAAzB,CAA+B,CAC7BP,KAAK,CAAC,wBAAD,CAAL,CACAR,kBAAkB,GACnB,CACDA,kBAAkB,GACnB,CARH,EASGO,KATH,CASS,UAAM,CACXC,KAAK,CAAC,yBAAD,CAAL,CACD,CAXH,EAYD,CAjBD,CAmBA,mBACE,MAAC,QAAD,yBACE,MAAC,UAAD,yBACE,KAAC,UAAD,EAAY,GAAG,CAAEV,OAAO,CAACkB,KAAzB,EADF,cAEE,oCACE,sBACGlB,OAAO,CAACmB,IADX,MACmBnB,OAAO,CAACoB,GAD3B,GADF,cAIE,mBAAIpB,OAAO,CAACqB,GAAZ,EAJF,GAFF,GADF,cAUE,MAAC,UAAD,yBACE,YACE,GAAG,CAAC,sIADN,CAEE,GAAG,CAAC,SAFN,CAGE,OAAO,CAAE,yBAAMV,cAAa,CAAC,KAAD,CAAnB,EAHX,EADF,cAME,YACE,GAAG,CAAC,yDADN,CAEE,GAAG,CAAC,MAFN,CAGE,OAAO,CAAE,yBAAMA,cAAa,CAAC,IAAD,CAAnB,EAHX,EANF,GAVF,GADF,CAyBD,CArEM"},"metadata":{},"sourceType":"module"}